(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var i in a)e.o(a,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:a[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.apiFetch;var a=e.n(t),i=!!EssentialBlocksLocalize&&EssentialBlocksLocalize.rest_rootURL;if(a().use(a().createRootURLMiddleware(i)),document.getElementsByClassName("ebpg-pagination").length>0){var n=document.querySelectorAll(".ebpg-pagination button");if(n.length>0){document.querySelectorAll(".ebpg-pagination").forEach((function(e){r(e)}));var s=1;n.forEach((function(e){e.addEventListener("click",(function(){var e=this,t=o(this,"ebpg-pagination-button"),i=o(this,"ebpg-pagination-item-previous"),n=o(this,"ebpg-pagination-item-next");s=t?parseInt(s)+1:i?parseInt(p(this))-1:n?parseInt(p(this))+1:parseInt(this.dataset.pagenumber);var c=this.closest(".eb-post-grid-wrapper").dataset;a()({path:"eb-post-grid/v1/queries?query_data=".concat(c.querydata,"&attributes=").concat(c.attributes,"&pageNumber=").concat(s)}).then((function(a){t?a?e.closest(".ebpg-pagination").insertAdjacentHTML("beforebegin",a):(e.closest(".ebpg-pagination").insertAdjacentHTML("beforebegin",'<p class="eb-no-posts">No more Posts</p>'),e.closest(".ebpg-pagination").remove()):(e.closest(".eb-post-grid-wrapper").querySelectorAll(".ebpg-grid-post").forEach((function(e){e.remove()})),e.closest(".ebpg-pagination").insertAdjacentHTML("beforebegin",a),o(e,"ebpg-pagination-item")&&(e.closest(".ebpg-pagination").querySelectorAll(".ebpg-pagination-item").forEach((function(e){e.classList.remove("active")})),e.classList.add("active")),r(e.closest(".ebpg-pagination")))}))}))}))}}function o(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function r(e){var t=e.querySelector(".ebpg-pagination-item.active");if(t){var a=parseInt(t.dataset.pagenumber),i=e.querySelectorAll(".ebpg-pagination-item"),n=i.length,s=1;i.forEach((function(e){s=parseInt(e.dataset.pagenumber),function(e){e.classList.remove("show"),e.classList.add("hide")}(e),(1===a&&s<=3||s>=a&&s<=a+2||s===n||1===s&&(a>=n-2||a>=4))&&function(e){e.classList.remove("hide"),e.classList.add("show")}(e)}));var o=e.querySelectorAll(".ebpg-pagination-item-separator");o.length>0&&o.forEach((function(e){e.remove()}));var r='<button class="ebpg-pagination-item-separator">...</button>';a<i.length-2&&i[i.length-1].insertAdjacentHTML("beforebegin",r),(a>=n-2||n>4&&a>=4)&&i[1].insertAdjacentHTML("afterend",r),1===a?(e.querySelector(".ebpg-pagination-item-previous").classList.add("hide"),e.querySelector(".ebpg-pagination-item-next").classList.remove("hide"),e.querySelector(".ebpg-pagination-item-next").classList.add("show")):a===n?(e.querySelector(".ebpg-pagination-item-next").classList.add("hide"),e.querySelector(".ebpg-pagination-item-previous").classList.remove("hide"),e.querySelector(".ebpg-pagination-item-previous").classList.add("show")):(e.querySelector(".ebpg-pagination-item-previous").classList.remove("hide"),e.querySelector(".ebpg-pagination-item-next").classList.remove("hide"))}}function p(e){var t=1,a=e.closest(".ebpg-pagination").querySelector(".ebpg-pagination-item.active");return a&&(t=a.dataset?a.dataset.pagenumber:1,o(e,"ebpg-pagination-item-next")?(a.nextSibling.classList.add("active"),a.classList.remove("active")):o(e,"ebpg-pagination-item-previous")&&(a.previousSibling.classList.add("active"),a.classList.remove("active")),r(e.closest(".ebpg-pagination"))),t}})();